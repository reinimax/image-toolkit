
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="api/operations/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>Image toolkit</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.f2e4d321.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#image-toolkit" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Image toolkit" class="md-header__button md-logo" aria-label="Image toolkit" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Image toolkit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/reinimax/image-toolkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Image toolkit" class="md-nav__button md-logo" aria-label="Image toolkit" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Image toolkit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/reinimax/image-toolkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Home
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#video-demo" class="md-nav__link">
    <span class="md-ellipsis">
      Video Demo:  
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Description:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
    <span class="md-ellipsis">
      Links
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-service-locally" class="md-nav__link">
    <span class="md-ellipsis">
      Run the service locally
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-host-the-service" class="md-nav__link">
    <span class="md-ellipsis">
      (Self-) Host the service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#via-the-web-interface-upload-form" class="md-nav__link">
    <span class="md-ellipsis">
      via the web-interface (upload form)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#via-the-api" class="md-nav__link">
    <span class="md-ellipsis">
      via the API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="via the API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api-response" class="md-nav__link">
    <span class="md-ellipsis">
      API response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accepted-file-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Accepted file formats
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-short-tour-of-the-repo" class="md-nav__link">
    <span class="md-ellipsis">
      A short tour of the repo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A short tour of the repo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-backendapi" class="md-nav__link">
    <span class="md-ellipsis">
      The backend/API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-frontend" class="md-nav__link">
    <span class="md-ellipsis">
      The frontend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      The documentation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tooling-for-the-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Tooling for the documentation:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      Design decisions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acknowledgements" class="md-nav__link">
    <span class="md-ellipsis">
      Acknowledgements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#powerd-by" class="md-nav__link">
    <span class="md-ellipsis">
      Powerd by
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/operations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Processing functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api/formats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported formats
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#video-demo" class="md-nav__link">
    <span class="md-ellipsis">
      Video Demo:  
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#description" class="md-nav__link">
    <span class="md-ellipsis">
      Description:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Description:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#links" class="md-nav__link">
    <span class="md-ellipsis">
      Links
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-the-service-locally" class="md-nav__link">
    <span class="md-ellipsis">
      Run the service locally
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#self-host-the-service" class="md-nav__link">
    <span class="md-ellipsis">
      (Self-) Host the service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">
      Usage
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#via-the-web-interface-upload-form" class="md-nav__link">
    <span class="md-ellipsis">
      via the web-interface (upload form)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#via-the-api" class="md-nav__link">
    <span class="md-ellipsis">
      via the API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="via the API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api-response" class="md-nav__link">
    <span class="md-ellipsis">
      API response
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accepted-file-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Accepted file formats
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-short-tour-of-the-repo" class="md-nav__link">
    <span class="md-ellipsis">
      A short tour of the repo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A short tour of the repo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-backendapi" class="md-nav__link">
    <span class="md-ellipsis">
      The backend/API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-frontend" class="md-nav__link">
    <span class="md-ellipsis">
      The frontend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      The documentation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tooling-for-the-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Tooling for the documentation:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#design-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      Design decisions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acknowledgements" class="md-nav__link">
    <span class="md-ellipsis">
      Acknowledgements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#powerd-by" class="md-nav__link">
    <span class="md-ellipsis">
      Powerd by
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="image-toolkit">IMAGE TOOLKIT</h1>
<h4 id="video-demo">Video Demo:  <URL HERE></h4>
<h2 id="description">Description:</h2>
<p>Image toolkit  is a service for basic image manipulation. It features a website where the user can upload an image for processing, as well as an API, powered by <a href="https://flask.palletsprojects.com/">Flask</a>.</p>
<h3 id="links">Links</h3>
<ul>
<li><a href="https://reinimax.github.io/image-toolkit/">Documentation is hosted on Github</a></li>
<li><a href="https://reinimax.eu.pythonanywhere.com/image-process">Backend</a> and <a href="https://reinimax.eu.pythonanywhere.com/frontend/">Frontend</a> are hosted on <a href="https://www.pythonanywhere.com/">Python Anywhere</a></li>
</ul>
<h3 id="installation">Installation</h3>
<ol>
<li>Set up virtual environment: <code>python3 -m venv .venv</code></li>
<li>Activate virtual environment: <code>. .venv/bin/activate</code></li>
<li>Install dependencies: <code>python -m pip install -r requirements.txt</code></li>
</ol>
<p>Note: You can exit the virtual environment by typing <code>deactivate</code>. <a href="https://packaging.python.org/en/latest/guides/installing-using-pip-and-virtual-environments/">Learn more about virtual environments and package installation</a>.</p>
<h3 id="run-the-service-locally">Run the service locally</h3>
<p>Activate the virtual environment and type <code>flask run</code>. If you want to use the frontend locally, you need to set up an additional local server 
(for development, I used the excellent <a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer">LiveServer</a> VSCode extension) and change the 
<code>BASE_URL</code>constant in <code>frontend/script.js</code> to point to Flasks local server.</p>
<h3 id="self-host-the-service">(Self-) Host the service</h3>
<p>Refer to <a href="https://flask.palletsprojects.com/en/3.0.x/deploying/">Flask's documentation for deploying to production</a>. Again, for the frontend, you may need an additional server/hosting,
or to configure the WSGI server to serve the contents of the <code>frontend</code> directory statically. I use <a href="https://www.pythonanywhere.com/">Python anywhere</a> to host the demo.</p>
<h3 id="usage">Usage</h3>
<h4 id="via-the-web-interface-upload-form">via the web-interface (upload form)</h4>
<p><img alt="Screenshot" src="screenshot.png" /></p>
<p><strong>Note</strong> that the web-interface implements most, but not all functionality of the API. This is intentional to further showcase the decoupled nature of this project.</p>
<h4 id="via-the-api">via the API</h4>
<p>There is one API endpoint, <code>/image-process</code>, which expects a <code>POST</code> request with a <code>JSON</code> payload.</p>
<p>Except the obligatory <code>Content-Type: application/json</code>, no additional headers and no authentication are required.</p>
<p>The <code>JSON</code> payload has two mandatory fields:</p>
<ul>
<li><code>original_image</code>: base64-encoded image.</li>
<li><code>operations</code>: array of objects that define the operations to be performed on the image. Operations will be performed in order. If an invalid operation is given,
or a valid operation fails, the other operations will still be performed.</li>
</ul>
<p>An <code>operation</code> object itself consists of a mandatory <code>name</code> field which specifies the operation that should be performed. The name is the same as the name of the processing function
that will be called to do the work.</p>
<p>Optionally, each operation accepts arguments that specify how the image should be processed, e.g. a width and/or height for resizing an image. Dimensions like width or height can be given to the API in different ways: Generally, it will accept units of pixels and percent. If the unit is pixels, it can be omitted, since this is assumed as the standard. These would all be valid arguments:</p>
<pre><code>&quot;width&quot;: &quot;300px&quot;
&quot;width&quot;: &quot;300&quot; // 300px, as above
&quot;width&quot;: 300
&quot;width&quot;: 300.0 // this works too, but is considered bad practice
&quot;width&quot;: &quot;50%&quot; // 50 percent
</code></pre>
<p>Optionally, within the key <code>return_as</code>, you can also provide a format in which the image should be returned, along with some options for image quality. Refer to the <a href="/api/formats/">Supported formats page</a> for more details.
If <code>return_as</code> is ommitted or contains an invalid format, the image will be returned in the same format in which it was submitted.</p>
<p>A complete payload might look like this:</p>
<pre><code>{
    &quot;operations&quot;: [
        {
            &quot;name&quot;: &quot;rotate&quot;,
            &quot;degrees&quot;: 180
        },
        {
            &quot;name&quot;: &quot;resize&quot;,
            &quot;width&quot;: &quot;50%&quot;,
        },
        // ... any other operations you like to perform.
    ],
    // optional return format and options
    &quot;return_as&quot;: {
        &quot;format&quot;: &quot;webp&quot;,
        &quot;quality&quot;: 80
    },
    &quot;original_image&quot;: &quot;...&quot; // base64-encoded image
}
</code></pre>
<h5 id="api-response">API response</h5>
<p>A successful response from the API will look like this:</p>
<pre><code>{
    &quot;metadata&quot;: {
        &quot;format&quot;: &quot;jpeg&quot;, // format of the processed image
        // width and height of the processed image
        &quot;height&quot;: 374,
        &quot;width&quot;: 300
    },
    &quot;processed_image&quot;: &quot;...&quot; // base64-encoded image
}
</code></pre>
<p>If you get back the original image, or some operations were not performed, this probably means you provided invalid/incomplete parameters to some operation(s). If you found a bug, feel free to <a href="https://github.com/reinimax/image-toolkit/issues">open an issue</a>.</p>
<p>If you really messed up the <code>JSON</code> payload or did not provide a correctly encoded image, you will get an error response instead:</p>
<pre><code>{
    &quot;error&quot;: &quot;No image provided.&quot; // The error message will try to explain what caused the error.
}
</code></pre>
<p>However, I tried to design this API pretty robust and forgiving, so (hopefully) what you'll see more often is just some operation not being performed if you forgot an argument or mistyped something.</p>
<p>You can look up the available processing functions and the arguments they expect in the <a href="/api/operations/">API documentation</a> (ignore the <code>image</code> argument, as this will be passed in automatically).</p>
<h5 id="accepted-file-formats">Accepted file formats</h5>
<p>The <a href="/api/formats/">supported formats page</a> lists the formats that the API is guaranteed to accept and return. Other image formats <em>may</em> work as input.
Refer to the <a href="https://pillow.readthedocs.io/en/stable/handbook/image-file-formats.html">pillow documentation</a> to see which formats <em>may</em> work.</p>
<h2 id="a-short-tour-of-the-repo">A short tour of the repo</h2>
<p>This repository consists of 4 main parts:</p>
<h3 id="the-backendapi">The backend/API</h3>
<p>This is a flask application, consisting of these files:</p>
<ul>
<li><code>app.py</code>defines the routing and interface of the API.</li>
<li><code>operations.py</code> defines the available image manipulation operations.</li>
<li><code>formats.py</code> defines the supported formats that the API can convert images into.</li>
<li><code>helpers.py</code> defines some helper functions.</li>
<li><code>requirements.txt</code> defines the libraries used by the application.</li>
</ul>
<h3 id="the-frontend">The frontend</h3>
<p>tbd</p>
<h3 id="the-documentation">The documentation</h3>
<p>The documentation is automatically generated from the README file and the docstrings from the source code of the API. It is located in the <code>docs</code> directory.</p>
<h3 id="tooling-for-the-documentation">Tooling for the documentation:</h3>
<p>There are a number of files dedicated to auto-generating documentation and <a href="https://github.com/mitmproxy/pdoc/tree/main/examples/mkdocs/">integrating pdoc with mkdocs</a>:</p>
<ul>
<li><code>mkdocs.yml</code> is the configuration file for creating a static site containing the documentation.</li>
<li><code>make.py</code> is a script that generates <code>pdoc</code> documentation and moves it to a directory and format where it can be picked off by <code>mkdocs</code>.</li>
<li>The <code>pdoc-template</code> folder contains a template override and styling for <code>pdoc</code>, so that it better integrates with the generated <code>mkdocs</code>.</li>
<li>The <code>mk-docs</code>folder contains an <code>index.md</code> file that links the README into the generated documentation and <code>custom.js</code> that does some cosmetic changes to better integrate the documentation generated by <code>pdoc</code>.</li>
</ul>
<h2 id="design-decisions">Design decisions</h2>
<ul>
<li>I decided to create just one API-endpoint and make the user provide the wanted operations as JSON payload. This is more user-friendly, because it lets you chain operations together in one single request.</li>
<li>I tried out autogenerating API documentation using <a href="https://github.com/apiflask/apiflask">flaskapi</a> and the <a href="https://www.openapis.org/">OpenAPI spec</a>, which is awesome in principle, but didn't convince me in the context of this project.
There is only one API endpoint, which takes a lot of parameters. OpenAPI is great if you have a lot of small endpoints and methods, but that's not the case here. What I really needed was
to document the single image manipulation operations. At the end, I decided to use <a href="https://pdoc.dev/">pdoc</a>, an easy to use library that generates pretty neat documentation and integrate it with <a href="https://www.mkdocs.org/">mkdocs</a>, linking this README file to the generated documentations index file using <a href="https://github.com/facelessuser/pymdown-extensions">pymdown-extensions</a>.</li>
<li>In a similar vein, I looked into <a href="https://apiflask.com/">APIflask</a> which has some neat features. But in the end I decided to stick with vanilla Flask and making some adoptions manually (e.g. making sure error responses are always sent as JSON instead of text/html). The reason is, I wanted to keep things simple and avoid the application being overloaded with features that I don't really use, especially since I decided against going with the OpenAPI approach.</li>
<li>For implementing different formats in which the image can be returned, I decided to follow an approach very similar to the one for operations: Create a new file that defines saving functions and dynamically call them if a valid image format was submitted. I tried first a simpler approach with dynamically passing arguments to the <code>save</code> function of the <code>Image</code> class. This is less code, but I decided against it for 2 reasons: 
First, defining custom save functions allows for better auto-generated documentation. 
And second, perhaps more important, it allows for providing default arguments that are different from the ones provided by Pillow, and for additional validation.
The chosen approach is more verbose, but I find it also more robust and explicit.</li>
</ul>
<h2 id="acknowledgements">Acknowledgements</h2>
<ul>
<li>Huge thanks to <a href="https://huggingface.co/chat/">HuggingChat</a> for providing suggestions and feeback regarding some initial design decisions (<a href="https://hf.co/chat/r/Oqo8rfK">link to the chat</a>)
and for help with debugging some stuff.</li>
<li>Huge thanks also to <a href="https://www.pythonanywhere.com/">Python anywhere</a> which provides a free hosting tier, on which this project is hosted.</li>
<li>This project would not have been possible without some amazing libraries. See below for a list of projects this project relies on.</li>
</ul>
<h2 id="powerd-by">Powerd by</h2>
<p>tbd list used libraries</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["search.suggest"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="custom.js"></script>
      
        <script src="js/open_in_new_tab.js"></script>
      
    
  </body>
</html>